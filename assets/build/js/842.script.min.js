/*! For license information please see 842.script.min.js.LICENSE.txt */
(self.webpackChunksails_adminpanel=self.webpackChunksails_adminpanel||[]).push([[842],{2842:()=>{var e;(e=jQuery).fn.sortableLists=function(l){var s=e("body").css("position","relative"),o={currElClass:"",placeholderClass:"",placeholderCss:{position:"relative",padding:0},hintClass:"",hintCss:{display:"none",position:"relative",padding:0},hintWrapperClass:"",hintWrapperCss:{},baseClass:"",baseCss:{position:"absolute",top:0-parseInt(s.css("margin-top")),left:0-parseInt(s.css("margin-left")),margin:0,padding:0,"z-index":2500},opener:{active:!1,open:"",close:"",openerCss:{float:"left",display:"inline-block","background-position":"center center","background-repeat":"no-repeat"},openerClass:""},maxLevels:!1,listSelector:"ul",listsClass:"",listsCss:{},insertZone:50,insertZonePlus:!1,scroll:20,ignoreClass:"",isAllowed:function(e,l,s){return!0},onDragStart:function(e,l){return!0},onChange:function(e){return!0},complete:function(e){return!0}},t=e.extend(!0,{},o,l),r=e("<"+t.listSelector+" />").prependTo(s).attr("id","s-l-base").css(t.baseCss).addClass(t.listsClass+" "+t.baseClass),n=e("<li />").attr("id","s-l-placeholder").css(t.placeholderCss).addClass(t.placeholderClass),i=e("<li />").attr("id","s-l-hint").css(t.hintCss).addClass(t.hintClass),a=e("<"+t.listSelector+" />").attr("id","s-l-hint-wrapper").addClass(t.listsClass+" "+t.hintWrapperClass).css(t.listsCss).css(t.hintWrapperCss),c=e("<span />").addClass("s-l-opener "+t.opener.openerClass).css(t.opener.openerCss).on("mousedown",(function(l){var s=e(this).closest("li");return s.hasClass("s-l-closed")?w(s):y(s),!1}));"class"==t.opener.as?c.addClass(t.opener.close):"html"==t.opener.as?c.html(t.opener.close):console.error("jQuerySortableLists opener as background image has been removed with release 2.0.0. Use html instead please.");var p={isDragged:!1,isRelEFP:null,oEl:null,rootEl:{el:e(this),offset:null,rootElClass:e(this).attr("class")},cEl:null,placeholderParentLi:null,upScroll:!1,downScroll:!1,pX:0,pY:0,cX:0,cY:0,isAllowed:!0,e:{pageX:0,pageY:0,clientX:0,clientY:0},doc:e(document),win:e(window)};if(t.opener.active){if(!t.opener.open)throw"Opener.open value is not defined. It should be valid url, html or css class.";if(!t.opener.close)throw"Opener.close value is not defined. It should be valid url, html or css class.";e(this).find("li").each((function(){var l=e(this);l.children(t.listSelector).length&&(c.clone(!0).prependTo(l.children("div").first()),l.hasClass("s-l-open")?w(l):y(l))}))}if(!1!==t.maxLevels){if(isNaN(t.maxLevels))throw"JQuery-sortable-lists maxLevels values is not a number";e(this).find("li").each((function(){var l=E(e(this)),s=L(e(this));b(e(this),l),S(e(this),s)}))}return this.on("mousedown",(function(l){var s=e(l.target);if(!(!1!==p.isDragged||t.ignoreClass&&s.closest("."+t.ignoreClass).length)){l.preventDefault();var o=s.closest("li"),a=e(this);o[0]&&(t.onDragStart(l,o),function(l,s,o){p.isDragged=!0;var a=parseInt(s.css("margin-top")),c=parseInt(s.css("margin-bottom")),f=parseInt(s.css("margin-left")),u=parseInt(s.css("margin-right")),v=s.offset(),g=s.innerHeight();p.rootEl={el:o,offset:o.offset(),rootElClass:o.attr("class")},p.cEl={el:s,mT:a,mL:f,mB:c,mR:u,offset:v},p.cEl.xyOffsetDiff={X:l.pageX-p.cEl.offset.left,Y:l.pageY-p.cEl.offset.top},p.cEl.el.addClass("s-l-current "+t.currElClass),s.before(n);var m=p.placeholderNode=e("#s-l-placeholder");s.css({width:s.width(),position:"absolute",top:v.top-a,left:v.left-f}).prependTo(r),m.css({display:"block",height:g}),i.css("height",g),p.doc.on("mousemove",d).on("mouseup",h)}(l,o,a))}}));function d(l){if(p.isDragged){var s=p.cEl,o=p.doc,r=p.win;l.pageX||function(e){e.pageY=p.pY,e.pageX=p.pX,e.clientY=p.cY,e.clientX=p.cX}(l),o.scrollTop()>p.rootEl.offset.top-10&&l.clientY<50?p.upScroll?(l.pageY=l.pageY-t.scroll,e("html, body").each((function(l){e(this).scrollTop(e(this).scrollTop()-t.scroll)})),f(l)):p.upScroll||(p.upScroll=setInterval((function(){p.doc.trigger("mousemove")}),50)):o.scrollTop()+r.height()<p.rootEl.offset.top+p.rootEl.el.outerHeight(!1)+10&&r.height()-l.clientY<50?p.downScroll?(l.pageY=l.pageY+t.scroll,e("html, body").each((function(l){e(this).scrollTop(e(this).scrollTop()+t.scroll)})),f(l)):p.downScroll||(p.downScroll=setInterval((function(){p.doc.trigger("mousemove")}),50)):u(p),p.oElOld=p.oEl,s.el[0].style.visibility="hidden",p.oEl=oEl=function(l,s){if(!document.elementFromPoint)return null;var o,t,r=p.isRelEFP;null===r&&((o=p.doc.scrollTop())>0&&(r=null==(t=document.elementFromPoint(0,o+e(window).height()-1))||"HTML"==t.tagName.toUpperCase()),(o=p.doc.scrollLeft())>0&&(r=null==(t=document.elementFromPoint(o+e(window).width()-1,0))||"HTML"==t.tagName.toUpperCase())),r&&(l-=p.doc.scrollLeft(),s-=p.doc.scrollTop());var n=e(document.elementFromPoint(l,s));return p.rootEl.el.find(n).length?n.is("#s-l-placeholder")||n.is("#s-l-hint")?null:n.is("li")?n.is("li")?n:void 0:(n=n.closest("li"))[0]?n:null:null}(l.pageX,l.pageY),s.el[0].style.visibility="visible",function(e,l){var s=l.oEl;if(s&&l.oElOld){var o=s.outerHeight(!1),r=e.pageY-s.offset().top;t.insertZonePlus?14>r?g(e,s,7>r):o-14<r&&C(e,s,o-7<r):5>r?v(e,s):o-5<r&&m(e,s)}}(l,p),function(e,l){var s=l.cEl;s.el.css({top:e.pageY-s.xyOffsetDiff.Y-s.mT,left:e.pageX-s.xyOffsetDiff.X-s.mL})}(l,p)}}function h(l){var s=p.cEl,o=e("#s-l-hint",p.rootEl.el),r=i[0].style,n=null,a=!1,f=e("#s-l-hint-wrapper");"block"==r.display&&o.length&&p.isAllowed?(n=o,a=!0):(n=p.placeholderNode,a=!1),offset=n.offset(),s.el.animate({left:offset.left-p.cEl.mL,top:offset.top-p.cEl.mT},250,(function(){!function(e){var l=e.el[0].style;e.el.removeClass(t.currElClass+" s-l-current"),l.top="0",l.left="0",l.position="relative",l.width="auto"}(s),n.after(s.el[0]),n[0].style.display="none",r.display="none",o.remove(),f.removeAttr("id").removeClass(t.hintWrapperClass),f.length&&f.prev("div").append(c.clone(!0)),a?p.placeholderNode.slideUp(150,(function(){p.placeholderParentLi=p.placeholderNode.parent().is(p.rootEl.el)?null:p.placeholderNode.parent().closest("li"),p.placeholderNode.remove(),T(),t.onChange(s.el),t.complete(s.el),p.isDragged=!1,!1!==t.maxLevels&&(Y(s.el),p.placeholderParentLi&&Y(p.placeholderParentLi))})):(p.placeholderNode.remove(),T(),t.complete(s.el),p.isDragged=!1)})),u(p),p.doc.unbind("mousemove",d).unbind("mouseup",h)}function f(e){p.pY=e.pageY,p.pX=e.pageX,p.cY=e.clientY,p.cX=e.clientX}function u(e){clearInterval(e.upScroll),clearInterval(e.downScroll),e.upScroll=e.downScroll=!1}function v(l,s){if(e("#s-l-hint-wrapper",p.rootEl.el).length&&i.unwrap(),l.pageX-s.offset().left<t.insertZone){if(s.prev("#s-l-placeholder").length||!1!==t.maxLevels&&!x(!1))return void i.css("display","none");s.before(i)}else{var o=s.children(),r=s.children(t.listSelector).first();if(r.children().first().is("#s-l-placeholder")||!1!==t.maxLevels&&!x(!0))return void i.css("display","none");r.length?r.prepend(i):(o.first().after(i),i.wrap(a)),p.oEl&&w(s)}i.css("display","block"),p.isAllowed=t.isAllowed(p.cEl.el,i,i.parents("li").first())}function g(l,s,o){if(e("#s-l-hint-wrapper",p.rootEl.el).length&&i.unwrap(),!o&&l.pageX-s.offset().left>t.insertZone){var r=s.children(),n=s.children(t.listSelector).first();if(n.children().first().is("#s-l-placeholder")||!1!==t.maxLevels&&!x(!0))return void i.css("display","none");n.length?n.prepend(i):(r.first().after(i),i.wrap(a)),p.oEl&&w(s)}else{if(s.prev("#s-l-placeholder").length||!1!==t.maxLevels&&!x(!1))return void i.css("display","none");s.before(i)}i.css("display","block"),p.isAllowed=t.isAllowed(p.cEl.el,i,i.parents("li").first())}function m(l,s){if(e("#s-l-hint-wrapper",p.rootEl.el).length&&i.unwrap(),l.pageX-s.offset().left<t.insertZone){if(s.next("#s-l-placeholder").length||!1!==t.maxLevels&&!x(!1))return void i.css("display","none");s.after(i)}else{var o=s.children(),r=s.children(t.listSelector).last();if(r.children().last().is("#s-l-placeholder")||!1!==t.maxLevels&&!x(!0))return void i.css("display","none");r.length?o.last().append(i):(s.append(i),i.wrap(a)),p.oEl&&w(s)}i.css("display","block"),p.isAllowed=t.isAllowed(p.cEl.el,i,i.parents("li").first())}function C(l,s,o){if(e("#s-l-hint-wrapper",p.rootEl.el).length&&i.unwrap(),!o&&l.pageX-s.offset().left>t.insertZone){var r=s.children(),n=s.children(t.listSelector).last();if(n.children().last().is("#s-l-placeholder")||!1!==t.maxLevels&&!x(!0))return void i.css("display","none");n.length?r.last().append(i):(s.append(i),i.wrap(a)),p.oEl&&w(s)}else{if(s.next("#s-l-placeholder").length||!1!==t.maxLevels&&!x(!1))return void i.css("display","none");s.after(i)}i.css("display","block"),p.isAllowed=t.isAllowed(p.cEl.el,i,i.parents("li").first())}function w(e){e.removeClass("s-l-closed").addClass("s-l-open"),e.children(t.listSelector).css("display","block");var l=e.children("div").children(".s-l-opener").first();"html"==t.opener.as?l.html(t.opener.close):"class"==t.opener.as&&l.addClass(t.opener.close).removeClass(t.opener.open)}function y(e){e.removeClass("s-l-open").addClass("s-l-closed"),e.children(t.listSelector).css("display","none");var l=e.children("div").children(".s-l-opener").first();"html"==t.opener.as?l.html(t.opener.open):"class"==t.opener.as&&l.addClass(t.opener.open).removeClass(t.opener.close)}function E(l){var s=0,o=l.children(t.listSelector);if(o.length){s++;var r=0,n=0;o.find("li").each((function(l){n=E(e(this)),r<n&&(r=n)})),r&&(s+=r)}return s}function b(e,l){e.data("inside-levels",l)}function L(e){for(var l=0,s=p.rootEl.el,o=e.closest(t.listSelector);!o.is(s);)l++,o=o.parent().closest(t.listSelector);return l}function S(e,l){e.data("upper-levels",l)}function x(e){var l=p.cEl.el.data("inside-levels"),s=p.oEl.data("upper-levels");return t.maxLevels>s+l+(e?1:0)}function Y(l){var s=p.rootEl.el,o=l.parent(t.listSelector);b(l,E(l)),S(l,L(l));var r=0;for(l.find("li").each((function(){var l=e(this);b(l,E(l)),S(l,L(l))}));!o.is(s)&&r<50;)b(l=o.parent("li"),E(l)),o=l.parent(t.listSelector),r++}function T(){e(t.listSelector,p.rootEl.el).each((function(l){e(this).children().length||(e(this).prev("div").children(".s-l-opener").first().remove(),e(this).remove())}))}},e.fn.sortableListsToArray=function(l,s){l=l||[];var o=0;return this.children("li").each((function(){var t=e(this),r={},n=t.attr("id");if(!n)throw console.log(t),"Previous item in console.log has no id. It is necessary to create the array.";r.id=n,r.parentId=s,r.value=t.data("value"),r.order=o,l.push(r),t.children("ul,ol").sortableListsToArray(l,n),o++})),l},e.fn.sortableListsToHierarchy=function(){var l=[],s=0;return e(this).children("li").each((function(){var o=e(this),t={},r=o.attr("id");if(!r)throw console.log(o),"Previous item in console.log has no id. It is necessary to create the array.";t.id=r,t.value=o.data("value"),t.order=s,l.push(t),t.children=o.children("ul,ol").sortableListsToHierarchy(),s++})),l},e.fn.sortableListsToString=function(l,s){return l=l||[],s=s||"no-parent",e(this).children("li").each((function(){var o=e(this),t=o.attr("id"),r=t?t.match(/(.+)[-=_](.+)/):null;if(!r)throw console.log(o),"Previous item in console.log has no id or id is not in required format xx_yy, xx-yy or xx=yy. It is necessary to create valid string.";l.push(r[1]+"["+r[2]+"]="+s),e(this).children("ul,ol").sortableListsToString(l,r[2])})),l.join("&")}}}]);